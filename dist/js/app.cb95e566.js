(function(t){function e(e){for(var i,o,c=e[0],r=e[1],l=e[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0584":function(t,e,n){},"070a":function(t,e,n){"use strict";var i=n("e2f0"),a=n.n(i);a.a},"0829":function(t,e,n){},"0aa0":function(t,e,n){},"0c4d":function(t,e,n){"use strict";var i=n("0829"),a=n.n(i);a.a},"4f45":function(t,e,n){"use strict";var i=n("a98d"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),n("tabbar",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}]})],1)},s=[],o=n("5530"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",[n("router-link",{attrs:{to:"/film",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-dianying"}),n("p",[t._v("movie")])]),n("router-link",{attrs:{to:"/city",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-dianying1"}),n("p",[t._v("cinema")])]),n("router-link",{attrs:{to:"/center",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-wode"}),n("p",[t._v("mine")])])],1)])},r=[],l=(n("4f45"),n("2877")),u={},f=Object(l["a"])(u,c,r,!1,null,"62bb4ce0",null),d=f.exports,m=n("2f62"),p={data:function(){return{datalist:[]}},beforeMount:function(){console.log("订阅消息")},components:{tabbar:d},computed:Object(o["a"])({},Object(m["b"])(["isshow"]))},h=p,v=(n("5c0b"),Object(l["a"])(h,a,s,!1,null,null,null)),g=v.exports,b=n("8c4f"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("swiper",{ref:"myfilmheader"},[n("li",{staticClass:"swiper-slide"},[n("img",{attrs:{src:"https://ftp.bmp.ovh/imgs/2020/09/28731af0b8607de4.jpg",alt:""}})]),n("li",{staticClass:"swiper-slide"},[n("img",{attrs:{src:"https://ftp.bmp.ovh/imgs/2020/09/8acd8b117af13684.jpg",alt:""}})]),n("li",{staticClass:"swiper-slide"},[n("img",{attrs:{src:"https://ftp.bmp.ovh/imgs/2020/09/96f9bfed308aa6ec.jpg",alt:""}})]),n("li",{staticClass:"swiper-slide"},[n("img",{attrs:{src:"https://ftp.bmp.ovh/imgs/2020/09/b96b3bf73e9c9c46.jpg",alt:""}})])]),n("filmheader",{class:t.isfixed?"fixed":""}),n("router-view")],1)},y=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),n("div",{staticClass:"swiper-pagination film-swiper-pagination"})])},C=[],x=n("d090"),k=n.n(x),j=(n("dfa4"),{mounted:function(){new k.a(".swiper-container",{loop:!0,autoplay:2e3,pagination:".swiper-pagination"})}}),O=j,$=(n("070a"),Object(l["a"])(O,_,C,!1,null,"2c202f48",null)),E=$.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("router-link",{attrs:{to:"/film/nowplaying",tag:"li",activeClass:"active"}},[t._v("正在热映")]),n("router-link",{attrs:{to:"/film/comingsoon",tag:"li",activeClass:"active"}},[t._v("即将上演")])],1)},S=[],H={data:function(){return{ab:"1"}}},L=H,P=(n("8e9b"),Object(l["a"])(L,I,S,!1,null,"2e28ff74",null)),M=P.exports,X={mounted:function(){console.log(M.data()),window.onscroll=this.handlescroll},data:function(){return{isfixed:!1}},methods:{handlescroll:function(){document.documentElement.scrollTop>=this.$refs.myfilmheader.$el.offsetHeight?this.isfixed=!0:this.isfixed=!1}},components:{swiper:E,filmheader:M},beforedestory:function(){window.onscroll=null}},z=X,T=Object(l["a"])(z,w,y,!1,null,null,null),N=T.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cinema",style:t.mystyle},[n("ul",t._l(t.datalist,(function(e){return n("li",{key:e.name},[t._v(t._s(e.name))])})),0)])},A=[],B=n("bc3a"),J=n.n(B),D=n("1fba"),F={data:function(){return{datalist:[],mystyle:{height:"0px"}}},mounted:function(){var t=this;this.mystyle.height=document.documentElement.clientHeight-60+"px";var e=localStorage.getItem("name");J()({url:"https://m.maizuo.com/gateway?cityId=".concat(e,"&ticketFlag=1&k=91262041"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"310100"}',"X-Host":" mall.film-ticket.cinema.list"}}).then((function(e){t.datalist=e.data.data.cinemas,console.log(e.data.data.cinemas),t.$nextTick((function(){new D["a"](".cinema",{scrollbar:{fade:!0,interactive:!1}})}))}))}},q=F,G=(n("98fe"),Object(l["a"])(q,V,A,!1,null,"5ced031b",null)),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("Header",{attrs:{title:"我的喵喵"}}),n("Login")],1)},R=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{attrs:{id:"header"}},[t._t("default"),n("h1",[t._v(t._s(t.title))])],2)},W=[],Y={name:"Header",props:{title:{type:String,default:"喵喵电影"}}},Z=Y,tt=(n("ff61"),Object(l["a"])(Z,U,W,!1,null,"9af7d5e0",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_body"},[n("div",[n("input",{staticClass:"login_text",attrs:{type:"text",placeholder:"账户名/手机号/Email"}})]),n("div",[n("input",{staticClass:"login_text",attrs:{type:"password",placeholder:"请输入您的密码"}})]),n("div",{staticClass:"login_btn"},[n("input",{attrs:{type:"submit",value:"登录"}})])])}],at={name:"Login"},st=at,ot=(n("cb44"),Object(l["a"])(st,nt,it,!1,null,"497c603a",null)),ct=ot.exports,rt={components:{Header:et,Login:ct},props:{title:{type:String,default:"喵喵电影"}}},lt=rt,ut=(n("f7cb"),Object(l["a"])(lt,Q,R,!1,null,"33fc603f",null)),ft=ut.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-distance":"5"}},[t._l(t.datalist,(function(e){return n("li",{key:e.filmId,on:{click:function(n){return t.handleChangepage(e.filmId)}}},[n("img",{attrs:{src:e.poster}}),n("h3",[t._v(t._s(e.name))]),n("p",[t._v("观众评分"+t._s(e.grade))]),n("p",[t._v("主演:"+t._s(t._f("actorfilter")(e.actors)))]),n("div",{staticClass:"buy"},[t._v("购票")])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}]},[t._v("加载中...")])],2)])},mt=[],pt=(n("99af"),n("4de4"),n("a15b"),n("d81d"),n("b0c0"),n("2909"));i["default"].filter("actorfilter",(function(t){var e=t.map((function(t){return t.name}));return e.join(" ")}));var ht={data:function(){return{datalist:[],loading:!1,current:1,total:0,isshow:!0}},mounted:function(){var t=this;J()({url:"https://m.maizuo.com/gateway?cityId=422800&pageNum=1&pageSize=10&type=1&k=4381095",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films,t.total=e.data.data.total}))},methods:{handleChangepage:function(t){this.$router.push("/detail/".concat(t))},loadMore:function(){var t=this;console.log("到底了"),this.loading=!0,this.current++,this.datalist.length!==this.total?J()({url:"https://m.maizuo.com/gateway?cityId=422800&pageNum=".concat(this.current,"&pageSize=10&type=1&k=4381095"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=[].concat(Object(pt["a"])(t.datalist),Object(pt["a"])(e.data.data.films)),console.log(t.current),t.loading=!1})):this.isshow=!1}}},vt=ht,gt=(n("d427"),Object(l["a"])(vt,dt,mt,!1,null,"f364ef80",null)),bt=gt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.comingList,(function(e){return n("li",{key:e.filmId,on:{click:function(n){return t.handleClick(e.isPresale,e.filmId)}}},[n("div",{staticClass:"photo"},[n("img",{attrs:{src:e.poster}})]),n("h3",[t._v(t._s(e.name))]),n("p",[t._v("电影类型:"+t._s(e.category))]),n("div",{staticClass:"buy"},[t._v("预购")])])})),0)])},yt=[],_t=n("76a0"),Ct=n.n(_t),xt={mounted:function(){0===this.$store.state.comingList.length?(this.$store.dispatch("getComingListAction"),console.log(this.$store.state.comingList,510)):console.log("使用缓存数据")},computed:Object(o["a"])({},Object(m["b"])(["comingList"])),methods:{handleClick:function(t,e){var n=this;console.log(1),t||(console.log(1),Object(_t["MessageBox"])({title:"提示",message:"没有排期，看看其他电影吧",showCancelButton:!0}).then((function(t){"confirm"===t&&(console.log("回到首页"),n.$router.push("/film/nowplaying"))}))),this.$router.push("/detail/".concat(e)),console.log(2)}}},kt=xt,jt=(n("0c4d"),Object(l["a"])(kt,wt,yt,!1,null,"6e1d7ea2",null)),Ot=jt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.datalist?n("div",[n("img",{staticClass:"poster",attrs:{src:t.datalist.poster}}),t._m(0),n("swiper",{staticClass:"actorsclass",attrs:{PerView:"4",myclass:"actorsclass"}},t._l(t.datalist.actors,(function(e){return n("div",{key:e.name,staticClass:"swiper-slide"},[n("img",{attrs:{src:e.avatarAddress}}),n("p",[t._v(t._s(e.name.substring(0,3)))])])})),0),n("div",{attrs:{id:"line"}}),n("div",{staticClass:"stage-photo"},[n("div",{staticClass:"stage-photo-title"},[t._v("剧照")]),n("swiper",{staticClass:"photosclass",attrs:{PerView:"3",myclass:"photosclass"}},t._l(t.datalist.photos,(function(t){return n("div",{key:t,staticClass:"swiper-slide swiper-slide-photo"},[n("img",{staticStyle:{width:"100px"},attrs:{src:t}})])})),0)],1)],1):t._e()},Et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"actors-title-bar"},[n("span",[t._v("演职人员")])])}],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),n("div",{staticClass:"swiper-pagination film-swiper-pagination"})])},St=[],Ht={props:["PerView","myclass"],mounted:function(){console.log(this.myclass),new k.a(".".concat(this.myclass),{slidesPerView:this.PerView,spaceBetween:0,freeMode:!0})}},Lt=Ht,Pt=(n("d1a1"),Object(l["a"])(Lt,It,St,!1,null,"c8910a0e",null)),Mt=Pt.exports,Xt={components:{swiper:Mt},props:["$route.params.myid"],data:function(){return{datalist:null}},created:function(){console.log("tabber隐藏"),this.$store.commit("HideTabber",!1)},mounted:function(){var t=this;console.log("要获取信息",this.$route.params.myid),J()({url:"https://m.maizuo.com/gateway?filmId=".concat(this.$route.params.myid,"&k=9153668"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"422800"}',"X-Host":"mall.film-ticket.film.info"}}).then((function(e){t.datalist=e.data.data.film,console.log(e.data.data.film)}))},beforeDestroy:function(){console.log("tabber显示"),this.$store.commit("ShowTabber",!0)}},zt=Xt,Tt=(n("fa3f"),Object(l["a"])(zt,$t,Et,!1,null,"2eb55510",null)),Nt=Tt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mt-index-list",t._l(t.datalist,(function(e){return n("mt-index-section",{key:e.index,attrs:{index:e.index}},t._l(e.list,(function(e){return n("div",{key:e.name,on:{click:function(n){return t.onclick(e.cityId)}}},[n("mt-cell",{attrs:{title:e.name}})],1)})),0)})),1)},At=[],Bt={data:function(){return{datalist:[]}},mounted:function(){var t=this;J()({url:"https://m.maizuo.com/gateway?k=4926834",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"310100"}',"X-Host":"mall.film-ticket.city.list"}}).then((function(e){t.datalist=t.clickHandle(e.data.data.cities),console.log(t.datalist)}))},methods:{clickHandle:function(t){for(var e=[],n=65;n<=90;n++)e.push(String.fromCharCode(n));for(var i=[],a=0;a<e.length;a++){var s=t.filter((function(t){return t.pinyin.substring(0,1)===e[a].toLowerCase()}));s.length>0&&i.push({index:e[a],list:s})}return i},onclick:function(t){console.log(t),localStorage.setItem("name",t),this.$router.push("/cinema")}}},Jt=Bt,Dt=Object(l["a"])(Jt,Vt,At,!1,null,"0a0bd37a",null),Ft=Dt.exports;i["default"].use(b["a"]);var qt=new b["a"]({mode:"hash",routes:[{path:"/film",component:N,children:[{path:"nowplaying",component:bt},{path:"comingsoon",component:Ot},{path:"",redirect:"/film/nowplaying"}]},{path:"/cinema",component:K},{path:"/center",component:ft},{path:"*",redirect:"/film"},{path:"/detail/:myid",component:Nt},{path:"/city",component:Ft}]}),Gt=qt,Kt=n("53ca");i["default"].use(m["a"]);var Qt=new m["a"].Store({state:{isshow:!0,comingList:[]},mutations:{HideTabber:function(t,e){t.isshow=e},ShowTabber:function(t,e){t.isshow=e},comingListMutation:function(t,e){t.comingList=e,console.log(t.comingList,520)}},actions:{getComingListAction:function(t){J()({url:"https://m.maizuo.com/gateway?cityId=110100&pageNum=1&pageSize=10&type=2&k=8784793",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"110100"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){console.log(e.data),console.log(Object(Kt["a"])(e.data.data.films)),t.commit("comingListMutation",e.data.data.films)}))}},modules:{}});n("aa35");i["default"].use(Ct.a),i["default"].config.productionTip=!1,new i["default"]({router:Gt,store:Qt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"8e9b":function(t,e,n){"use strict";var i=n("e026"),a=n.n(i);a.a},"98fe":function(t,e,n){"use strict";var i=n("a2e5"),a=n.n(i);a.a},"9c0c":function(t,e,n){},a2e5:function(t,e,n){},a98d:function(t,e,n){},b3bc:function(t,e,n){},c163:function(t,e,n){},cb2c:function(t,e,n){},cb44:function(t,e,n){"use strict";var i=n("c163"),a=n.n(i);a.a},d1a1:function(t,e,n){"use strict";var i=n("0aa0"),a=n.n(i);a.a},d427:function(t,e,n){"use strict";var i=n("e7fe"),a=n.n(i);a.a},e026:function(t,e,n){},e2f0:function(t,e,n){},e7fe:function(t,e,n){},f7cb:function(t,e,n){"use strict";var i=n("cb2c"),a=n.n(i);a.a},fa3f:function(t,e,n){"use strict";var i=n("0584"),a=n.n(i);a.a},ff61:function(t,e,n){"use strict";var i=n("b3bc"),a=n.n(i);a.a}});
//# sourceMappingURL=app.cb95e566.js.map